{
  "version": 3,
  "sources": ["../src/index.ts"],
  "sourcesContent": ["import {ShapeFlags} from \"@vue/shared\";\r\n\r\nexport function createRenderer(renderOptions) {\r\n    // \u89E3\u6784\u51FA\u6240\u6709\u5E73\u53F0\u7279\u5B9A\u7684\u6E32\u67D3\u65B9\u6CD5\r\n    const {\r\n        insert: hostInsert,\r\n        createElement: hostCreateElement,\r\n        createTextNode: hostCreateTextNode,\r\n        nextElementSibling: hostNextElementSibling,\r\n        parentNode: hostParentNode,\r\n        createText: hostCreateText,\r\n        setText: hostSetText,\r\n        setElementText: hostSetElementText,\r\n        remove: hostRemove,\r\n        patchProp: hostPatchProp,\r\n        querySelector: hostQuerySelector,\r\n    } = renderOptions\r\n\r\n    // \u6302\u8F7D\u5B50\u8282\u70B9\r\n    const mountChildren = (el, children) => {\r\n        for (let i = 0; i < children.length; i++) {\r\n            patch(null, children[i], el)\r\n        }\r\n    }\r\n\r\n    // \u6302\u8F7D\u5143\u7D20\u8282\u70B9\r\n    const mountElement = (vnode, container) => {\r\n        const {type, props, children, shapeFlag} = vnode\r\n        // \u521B\u5EFA\u5143\u7D20\u8282\u70B9\r\n        const el = vnode.el = hostCreateElement(type)\r\n        \r\n        // \u6839\u636E\u5B50\u8282\u70B9\u7C7B\u578B\u8FDB\u884C\u4E0D\u540C\u5904\u7406\r\n        if (shapeFlag & ShapeFlags.TEXT_CHILDREN) {\r\n            // \u6587\u672C\u5B50\u8282\u70B9\r\n            hostSetElementText(el, children)\r\n        } else if(shapeFlag & ShapeFlags.ARRAY_CHILDREN){\r\n            // \u6570\u7EC4\u5B50\u8282\u70B9\r\n            mountChildren(el, children)\r\n        }\r\n        \r\n        // \u5904\u7406\u5143\u7D20\u5C5E\u6027\r\n        if(props){\r\n            for (const key in props) {\r\n                hostPatchProp(vnode, key, null, props[key])\r\n            }\r\n        }\r\n        \r\n        // \u5C06\u5143\u7D20\u63D2\u5165\u5230\u5BB9\u5668\u4E2D\r\n        hostInsert(el, container)\r\n    }\r\n\r\n    // \u6BD4\u8F83\u5E76\u66F4\u65B0\u8282\u70B9\r\n    const patch = (n1, n2, container) => {\r\n        // \u5982\u679C\u662F\u76F8\u540C\u8282\u70B9\uFF0C\u76F4\u63A5\u8FD4\u56DE\r\n        if (n1 === n2) {\r\n            return\r\n        }\r\n        \r\n        // \u5982\u679C\u662F\u65B0\u8282\u70B9\uFF0C\u5219\u6302\u8F7D\r\n        if (n1 === null) {\r\n            mountElement(n2, container)\r\n        }\r\n        // TODO: \u5B9E\u73B0\u8282\u70B9\u66F4\u65B0\u903B\u8F91\r\n    }\r\n\r\n    // \u6E32\u67D3\u51FD\u6570\r\n    const render = (vnode, container) => {\r\n        // \u6267\u884Cpatch\u64CD\u4F5C\uFF0C\u6BD4\u8F83\u65B0\u65E7\u8282\u70B9\u5E76\u66F4\u65B0DOM\r\n        patch(container._vnode || null, vnode, container)\r\n        // \u4FDD\u5B58\u5F53\u524Dvnode\u7528\u4E8E\u4E0B\u6B21\u6BD4\u8F83\r\n        container._vnode = vnode\r\n    }\r\n    \r\n    // \u8FD4\u56DE\u6E32\u67D3\u5668\u5BF9\u8C61\r\n    return {\r\n        render\r\n    }\r\n}\r\n"],
  "mappings": ";AAEO,SAAS,eAAe,eAAe;AAE1C,QAAM;AAAA,IACF,QAAQ;AAAA,IACR,eAAe;AAAA,IACf,gBAAgB;AAAA,IAChB,oBAAoB;AAAA,IACpB,YAAY;AAAA,IACZ,YAAY;AAAA,IACZ,SAAS;AAAA,IACT,gBAAgB;AAAA,IAChB,QAAQ;AAAA,IACR,WAAW;AAAA,IACX,eAAe;AAAA,EACnB,IAAI;AAGJ,QAAM,gBAAgB,CAAC,IAAI,aAAa;AACpC,aAAS,IAAI,GAAG,IAAI,SAAS,QAAQ,KAAK;AACtC,YAAM,MAAM,SAAS,CAAC,GAAG,EAAE;AAAA,IAC/B;AAAA,EACJ;AAGA,QAAM,eAAe,CAAC,OAAO,cAAc;AACvC,UAAM,EAAC,MAAM,OAAO,UAAU,UAAS,IAAI;AAE3C,UAAM,KAAK,MAAM,KAAK,kBAAkB,IAAI;AAG5C,QAAI,mCAAsC;AAEtC,yBAAmB,IAAI,QAAQ;AAAA,IACnC,WAAU,qCAAsC;AAE5C,oBAAc,IAAI,QAAQ;AAAA,IAC9B;AAGA,QAAG,OAAM;AACL,iBAAW,OAAO,OAAO;AACrB,sBAAc,OAAO,KAAK,MAAM,MAAM,GAAG,CAAC;AAAA,MAC9C;AAAA,IACJ;AAGA,eAAW,IAAI,SAAS;AAAA,EAC5B;AAGA,QAAM,QAAQ,CAAC,IAAI,IAAI,cAAc;AAEjC,QAAI,OAAO,IAAI;AACX;AAAA,IACJ;AAGA,QAAI,OAAO,MAAM;AACb,mBAAa,IAAI,SAAS;AAAA,IAC9B;AAAA,EAEJ;AAGA,QAAM,SAAS,CAAC,OAAO,cAAc;AAEjC,UAAM,UAAU,UAAU,MAAM,OAAO,SAAS;AAEhD,cAAU,SAAS;AAAA,EACvB;AAGA,SAAO;AAAA,IACH;AAAA,EACJ;AACJ;",
  "names": []
}
