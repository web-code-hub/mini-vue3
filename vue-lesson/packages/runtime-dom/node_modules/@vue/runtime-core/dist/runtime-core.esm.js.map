{
  "version": 3,
  "sources": ["../../shared/src/index.ts", "../src/createVnode.ts", "../src/h.ts", "../src/render.ts"],
  "sourcesContent": ["export function isObject(value){\r\n    return typeof value === 'object' && value !== null\r\n}\r\nexport function isFunction(value){\r\n    return typeof value === 'function'\r\n}\r\nexport function isRef(value){\r\n    return value && value._v_isRef\r\n}\r\nexport function isString(value){\r\n    return typeof value === 'string'\r\n}\r\nexport * from './shapeFlag'", "import {isString, ShapeFlags} from \"@vue/shared\";\r\n\r\n/**\r\n * \u521B\u5EFA\u865A\u62DF\u8282\u70B9\u7684\u6838\u5FC3\u51FD\u6570\r\n * @param type - \u8282\u70B9\u7C7B\u578B\r\n * @param props - \u8282\u70B9\u5C5E\u6027\r\n * @param children - \u5B50\u8282\u70B9\r\n * @returns \u865A\u62DF\u8282\u70B9\u5BF9\u8C61\r\n */\r\nexport function createVnode(type, props, children?) {\r\n    // \u6839\u636E\u8282\u70B9\u7C7B\u578B\u786E\u5B9AshapeFlag\r\n    const shapeFlag = isString(type) ? ShapeFlags.ELEMENT : 0\r\n\r\n    // \u521B\u5EFA\u865A\u62DF\u8282\u70B9\u5BF9\u8C61\r\n    const vnode = {\r\n        __v_isVnode: true,           // \u6807\u8BC6\u4E3A\u865A\u62DF\u8282\u70B9\r\n        type,                        // \u8282\u70B9\u7C7B\u578B\r\n        props,                       // \u8282\u70B9\u5C5E\u6027\r\n        key: props?.key,             // \u8282\u70B9key\u503C\uFF0C\u7528\u4E8Ediff\u7B97\u6CD5\u4F18\u5316\r\n        children,                    // \u5B50\u8282\u70B9\r\n        el: null,                    // \u5BF9\u5E94\u7684\u771F\u5B9EDOM\u5143\u7D20\u5F15\u7528\r\n        shapeFlag                    // \u8282\u70B9\u7C7B\u578B\u6807\u8BB0\r\n    }\r\n\r\n    // \u5904\u7406\u5B50\u8282\u70B9\u5E76\u8BBE\u7F6E\u5BF9\u5E94\u7684shapeFlag\r\n    if (children) {\r\n        if (Array.isArray(children)) {\r\n            // \u6570\u7EC4\u5B50\u8282\u70B9\r\n            vnode.shapeFlag |= ShapeFlags.ARRAY_CHILDREN\r\n        } else {\r\n            // \u6587\u672C\u5B50\u8282\u70B9\r\n            children = String(children)\r\n            vnode.shapeFlag |= ShapeFlags.TEXT_CHILDREN\r\n        }\r\n    }\r\n\r\n    return vnode\r\n}", "import {isObject} from \"@vue/shared\";\r\nimport {createVnode} from \"./createVnode\";\r\n\r\n/**\r\n * \u521B\u5EFA\u865A\u62DF\u8282\u70B9(VNode)\u7684\u5DE5\u5382\u51FD\u6570\r\n * @param type - \u8282\u70B9\u7C7B\u578B\uFF0C\u53EF\u4EE5\u662FHTML\u6807\u7B7E\u540D\u6216\u7EC4\u4EF6\r\n * @param propsOrChildren - \u5C5E\u6027\u5BF9\u8C61\u6216\u5B50\u8282\u70B9\r\n * @param children - \u5B50\u8282\u70B9\u6570\u7EC4\r\n * @returns \u865A\u62DF\u8282\u70B9\u5BF9\u8C61\r\n */\r\nexport function h(type, propsOrChildren?, children?) {\r\n    // \u83B7\u53D6\u53C2\u6570\u957F\u5EA6\uFF0C\u7528\u6765\u5224\u65AD\u8C03\u7528\u65B9\u5F0F\r\n    const l = arguments.length;\r\n    \r\n    // \u5904\u7406\u4E24\u79CD\u53C2\u6570\u7684\u60C5\u51B5\r\n    if (l === 2) {\r\n        // \u5982\u679C\u7B2C\u4E8C\u4E2A\u53C2\u6570\u662F\u5BF9\u8C61\u4E14\u4E0D\u662F\u6570\u7EC4\r\n        if (isObject(propsOrChildren) && !Array.isArray(propsOrChildren)) {\r\n            // \u5982\u679C\u662F\u865A\u62DF\u8282\u70B9\uFF0C\u5219\u5C06\u5176\u4F5C\u4E3A\u5B50\u8282\u70B9\u6570\u7EC4\u5904\u7406\r\n            if (isVnode(propsOrChildren)) {\r\n                return createVnode(type, null, [propsOrChildren])\r\n            }\r\n            // \u5426\u5219\u4F5C\u4E3A\u5C5E\u6027\u5BF9\u8C61\u5904\u7406\r\n            return createVnode(type, propsOrChildren)\r\n        }\r\n        // \u5C06\u7B2C\u4E8C\u4E2A\u53C2\u6570\u4F5C\u4E3A\u5B50\u8282\u70B9\u5904\u7406\r\n        return createVnode(type, null, propsOrChildren)\r\n    }\r\n    \r\n    // \u5904\u7406\u8D85\u8FC7\u4E09\u79CD\u53C2\u6570\u7684\u60C5\u51B5\uFF0C\u5C06\u7B2C\u4E09\u4E2A\u53CA\u4E4B\u540E\u7684\u53C2\u6570\u5408\u5E76\u4E3A\u5B50\u8282\u70B9\u6570\u7EC4\r\n    if (l > 3) {\r\n        children = Array.from(arguments).slice(2)\r\n        return createVnode(type, propsOrChildren, children)\r\n    }\r\n    \r\n    // \u5904\u7406\u4E09\u79CD\u53C2\u6570\u7684\u60C5\u51B5\uFF0C\u5C06\u7B2C\u4E09\u4E2A\u53C2\u6570\u5305\u88C5\u4E3A\u6570\u7EC4\u4F5C\u4E3A\u5B50\u8282\u70B9\r\n    if (l === 3) {\r\n        children = [children]\r\n        return createVnode(type, propsOrChildren, children)\r\n    }\r\n    return createVnode(type,null, propsOrChildren)\r\n}\r\n\r\n/**\r\n * \u5224\u65AD\u503C\u662F\u5426\u4E3A\u865A\u62DF\u8282\u70B9\r\n * @param value - \u5F85\u68C0\u6D4B\u7684\u503C\r\n * @returns \u5982\u679C\u662F\u865A\u62DF\u8282\u70B9\u8FD4\u56DEtrue\uFF0C\u5426\u5219\u8FD4\u56DEfalse\r\n */\r\nfunction isVnode(value) {\r\n    return value?.__v_isVnode\r\n}\r\n\r\n", "import {ShapeFlags} from \"@vue/shared\";\r\n\r\nexport function createRenderer(renderOptions) {\r\n    // \u89E3\u6784\u51FA\u6240\u6709\u5E73\u53F0\u7279\u5B9A\u7684\u6E32\u67D3\u65B9\u6CD5\r\n    const {\r\n        insert: hostInsert,\r\n        createElement: hostCreateElement,\r\n        createTextNode: hostCreateTextNode,\r\n        nextElementSibling: hostNextElementSibling,\r\n        parentNode: hostParentNode,\r\n        createText: hostCreateText,\r\n        setText: hostSetText,\r\n        setElementText: hostSetElementText,\r\n        remove: hostRemove,\r\n        patchProp: hostPatchProp,\r\n        querySelector: hostQuerySelector,\r\n    } = renderOptions\r\n\r\n    // \u6302\u8F7D\u5B50\u8282\u70B9\r\n    const mountChildren = (el, children) => {\r\n        for (let i = 0; i < children.length; i++) {\r\n            patch(null, children[i], el)\r\n        }\r\n    }\r\n\r\n    // \u6302\u8F7D\u5143\u7D20\u8282\u70B9\r\n    const mountElement = (vnode, container) => {\r\n        const {type, props, children, shapeFlag} = vnode\r\n        // \u521B\u5EFA\u5143\u7D20\u8282\u70B9\r\n        const el = vnode.el = hostCreateElement(type)\r\n\r\n        // \u6839\u636E\u5B50\u8282\u70B9\u7C7B\u578B\u8FDB\u884C\u4E0D\u540C\u5904\u7406\r\n        if (shapeFlag & ShapeFlags.TEXT_CHILDREN) {\r\n            // \u6587\u672C\u5B50\u8282\u70B9\r\n            hostSetElementText(el, children)\r\n        } else if(shapeFlag & ShapeFlags.ARRAY_CHILDREN){\r\n            // \u6570\u7EC4\u5B50\u8282\u70B9\r\n            mountChildren(el, children)\r\n        }\r\n\r\n        // \u5904\u7406\u5143\u7D20\u5C5E\u6027\r\n        if(props){\r\n            for (const key in props) {\r\n                hostPatchProp(vnode, key, null, props[key])\r\n            }\r\n        }\r\n\r\n        // \u5C06\u5143\u7D20\u63D2\u5165\u5230\u5BB9\u5668\u4E2D\r\n        hostInsert(el, container)\r\n    }\r\n\r\n    // \u6BD4\u8F83\u5E76\u66F4\u65B0\u8282\u70B9\r\n    const patch = (n1, n2, container) => {\r\n        // \u5982\u679C\u662F\u76F8\u540C\u8282\u70B9\uFF0C\u76F4\u63A5\u8FD4\u56DE\r\n        if (n1 === n2) {\r\n            return\r\n        }\r\n\r\n        // \u5982\u679C\u662F\u65B0\u8282\u70B9\uFF0C\u5219\u6302\u8F7D\r\n        if (n1 === null) {\r\n            mountElement(n2, container)\r\n        }\r\n        // TODO: \u5B9E\u73B0\u8282\u70B9\u66F4\u65B0\u903B\u8F91\r\n    }\r\n\r\n    // \u6E32\u67D3\u51FD\u6570\r\n    const render = (vnode, container) => {\r\n        // \u6267\u884Cpatch\u64CD\u4F5C\uFF0C\u6BD4\u8F83\u65B0\u65E7\u8282\u70B9\u5E76\u66F4\u65B0DOM\r\n        patch(container._vnode || null, vnode, container)\r\n        // \u4FDD\u5B58\u5F53\u524Dvnode\u7528\u4E8E\u4E0B\u6B21\u6BD4\u8F83\r\n        container._vnode = vnode\r\n    }\r\n\r\n    // \u8FD4\u56DE\u6E32\u67D3\u5668\u5BF9\u8C61\r\n    return {\r\n        render\r\n    }\r\n}"],
  "mappings": ";AAAO,SAAS,SAAS,OAAM;AAC3B,SAAO,OAAO,UAAU,YAAY,UAAU;AAClD;AAOO,SAAS,SAAS,OAAM;AAC3B,SAAO,OAAO,UAAU;AAC5B;;;ACFO,SAAS,YAAY,MAAM,OAAO,UAAW;AAEhD,QAAM,YAAY,SAAS,IAAI,sBAAyB;AAGxD,QAAM,QAAQ;AAAA,IACV,aAAa;AAAA;AAAA,IACb;AAAA;AAAA,IACA;AAAA;AAAA,IACA,KAAK,OAAO;AAAA;AAAA,IACZ;AAAA;AAAA,IACA,IAAI;AAAA;AAAA,IACJ;AAAA;AAAA,EACJ;AAGA,MAAI,UAAU;AACV,QAAI,MAAM,QAAQ,QAAQ,GAAG;AAEzB,YAAM;AAAA,IACV,OAAO;AAEH,iBAAW,OAAO,QAAQ;AAC1B,YAAM;AAAA,IACV;AAAA,EACJ;AAEA,SAAO;AACX;;;AC3BO,SAAS,EAAE,MAAM,iBAAkB,UAAW;AAEjD,QAAM,IAAI,UAAU;AAGpB,MAAI,MAAM,GAAG;AAET,QAAI,SAAS,eAAe,KAAK,CAAC,MAAM,QAAQ,eAAe,GAAG;AAE9D,UAAI,QAAQ,eAAe,GAAG;AAC1B,eAAO,YAAY,MAAM,MAAM,CAAC,eAAe,CAAC;AAAA,MACpD;AAEA,aAAO,YAAY,MAAM,eAAe;AAAA,IAC5C;AAEA,WAAO,YAAY,MAAM,MAAM,eAAe;AAAA,EAClD;AAGA,MAAI,IAAI,GAAG;AACP,eAAW,MAAM,KAAK,SAAS,EAAE,MAAM,CAAC;AACxC,WAAO,YAAY,MAAM,iBAAiB,QAAQ;AAAA,EACtD;AAGA,MAAI,MAAM,GAAG;AACT,eAAW,CAAC,QAAQ;AACpB,WAAO,YAAY,MAAM,iBAAiB,QAAQ;AAAA,EACtD;AACA,SAAO,YAAY,MAAK,MAAM,eAAe;AACjD;AAOA,SAAS,QAAQ,OAAO;AACpB,SAAO,OAAO;AAClB;;;AChDO,SAAS,eAAe,eAAe;AAE1C,QAAM;AAAA,IACF,QAAQ;AAAA,IACR,eAAe;AAAA,IACf,gBAAgB;AAAA,IAChB,oBAAoB;AAAA,IACpB,YAAY;AAAA,IACZ,YAAY;AAAA,IACZ,SAAS;AAAA,IACT,gBAAgB;AAAA,IAChB,QAAQ;AAAA,IACR,WAAW;AAAA,IACX,eAAe;AAAA,EACnB,IAAI;AAGJ,QAAM,gBAAgB,CAAC,IAAI,aAAa;AACpC,aAAS,IAAI,GAAG,IAAI,SAAS,QAAQ,KAAK;AACtC,YAAM,MAAM,SAAS,CAAC,GAAG,EAAE;AAAA,IAC/B;AAAA,EACJ;AAGA,QAAM,eAAe,CAAC,OAAO,cAAc;AACvC,UAAM,EAAC,MAAM,OAAO,UAAU,UAAS,IAAI;AAE3C,UAAM,KAAK,MAAM,KAAK,kBAAkB,IAAI;AAG5C,QAAI,mCAAsC;AAEtC,yBAAmB,IAAI,QAAQ;AAAA,IACnC,WAAU,qCAAsC;AAE5C,oBAAc,IAAI,QAAQ;AAAA,IAC9B;AAGA,QAAG,OAAM;AACL,iBAAW,OAAO,OAAO;AACrB,sBAAc,OAAO,KAAK,MAAM,MAAM,GAAG,CAAC;AAAA,MAC9C;AAAA,IACJ;AAGA,eAAW,IAAI,SAAS;AAAA,EAC5B;AAGA,QAAM,QAAQ,CAAC,IAAI,IAAI,cAAc;AAEjC,QAAI,OAAO,IAAI;AACX;AAAA,IACJ;AAGA,QAAI,OAAO,MAAM;AACb,mBAAa,IAAI,SAAS;AAAA,IAC9B;AAAA,EAEJ;AAGA,QAAM,SAAS,CAAC,OAAO,cAAc;AAEjC,UAAM,UAAU,UAAU,MAAM,OAAO,SAAS;AAEhD,cAAU,SAAS;AAAA,EACvB;AAGA,SAAO;AAAA,IACH;AAAA,EACJ;AACJ;",
  "names": []
}
